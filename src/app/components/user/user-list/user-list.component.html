<div class="user-list-container">
  <div class="user-list-container-header">
    <h3>Gerenciar usuários</h3>
    <div class="user-list-container-header-button">
      <button pButton pRipple label="Adicionar usuário" size="small" (click)="createUser()"></button>
    </div>
  </div>

  <div class="card">
    <p-table #dt2 [value]="users" [paginator]="true" [rows]="10"
      [tableStyle]="{ 'min-width': '20rem', 'max-width': '100%' }" sortMode="multiple">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name" style="width:25%">Nome<p-sortIcon field="name" /></th>
          <th pSortableColumn="email" style="width:25%">Email<p-sortIcon field="email" /></th>
          <th pSortableColumn="jobPosition" style="width:25%">Cargo<p-sortIcon field="jobPosition" /></th>
          <th pSortableColumn="smartPhoneNumber" style="width:10%">Celular<p-sortIcon field="smartPhoneNumber" /></th>
          <th pSortableColumn="active" style="width:10%">Ativo<p-sortIcon field="active" /></th>
          <th style="width:5%">Editar</th>
          <th style="width:5%">Ativar/Desativar</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.jobPosition }}</td>
          <td>{{ user.smartPhoneNumber }}</td>
          <td>
            <div [ngClass]="user.active ? 'active-user' : 'inactive-user'">{{getUserStatus(user)}}</div>
          </td>
          <td>
            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-text"
              (click)="viewUser(user.id)"></button>
          </td>
          <td>
            <div class="card flex justify-content-center">
            <button *ngIf="user.active" pButton pRipple icon="pi pi-times" title="Desativar"
              class="p-button-rounded p-button-text" (click)="changeUserStatus(user.id, false)" style="color: #ff5858;"></button>
            <button *ngIf="!user.active" pButton pRipple icon="pi pi-check" title="Ativar"
              class="p-button-rounded p-button-text" (click)="changeUserStatus(user.id, true)" ></button>
          </div>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr>
          <td colspan="7">Total de usuários: {{ users.length }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>